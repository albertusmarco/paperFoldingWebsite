<!DOCTYPE html>
<html>
  <head>
    <title>Sendwish</title>

    <style>
    body
    {
      margin:0;
    }
    canvas
    {
      width:100%;
      height:100%;
    }
    </style>

    <!-- p5.js library -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.js"></script>
    <script src="js/sketch.js"></script> -->

      <!-- three.js library -->
    <script src = "js/three.js"></script>
    <script src = "js/OrbitControls.js"></script>
    <link rel="stylesheet" type="text/css" href="css/sizeSlider.css">
  </head>
  <body>
    <div class="slidecontainer">
      <p>Width :</p>
      <input type="range" min="1" max="30" value="15" id="boxWidth">
      <span id="demo"></span>
      <!-- <p>Custom range slider:</p>
      <input type="range" min="1" max="100" value="50" class="slider" id="myRange"> -->
    </div>
    <script>
      var slider = document.getElementById("boxWidth");
      var output = document.getElementById("demo");
      output.innerHTML = slider.value;

      slider.oninput = function() {
        output.innerHTML = this.value;
      }
    </script>

    <div class="slidecontainer">
      <p>Height :</p>
      <input type="range" min="1" max="30" value="15" id="boxHeight">
      <span id="demo2"></span>
    </div>
    <script>
      var slider2 = document.getElementById("boxHeight");
      var output2 = document.getElementById("demo2");
      output2.innerHTML = slider.value;

      slider2.oninput = function() {
        output2.innerHTML = this.value;
      }
    </script>

    <div class="slidecontainer">
      <p>Depth :</p>
      <input type="range" min="1" max="30" value="15" id="boxDepth">
      <span id="demo3"></span>
    </div>
    <script>
      var slider3 = document.getElementById("boxDepth");
      var output3 = document.getElementById("demo3");
      output3.innerHTML = slider.value;

      slider3.oninput = function() {
        output3.innerHTML = this.value;
      }
    </script>

    <script>
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(45,window.innerWidth / window.innerHeight,1,1000);

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth,window.innerHeight);
      document.body.appendChild(renderer.domElement);

      //update viewport
      window.addEventListener('resize',function()
      {
          var width = window.innerWidth;
          var height = window.innerHeight;
          renderer.setSize(width,height);
          camera.aspect = width / height;
          camera.updateProjectionMatrix();
      });

      // if ( /(iPad|iPhone|iPod)/g.test( navigator.userAgent ) ) {
      //
  		// 	// var scene = document.getElementById( 'scene' );
      //
  		// 	var boxWidth = scene.style.width = getComputedStyle( scene ).width;
  		// 	var boxHeight = scene.style.height = getComputedStyle( scene ).height;
  		// 	scene.setAttribute( 'scrolling', 'no' );
      //
  		// }

      // //import an object file(json)
      // var loader = new THREE.ObjectLoader();
      //
      // loader.load(
      //   'file.json',
      //
      //   function(object)
      //   {
      //     scene.add(object);
      //   }
      // );

      // //lighting
      // var ambientLight = new THREE.AmbientLight(0xFFFFFF,0.8);
      // scene.add(ambientLight);

      //control orbit
      var controls = new THREE.OrbitControls(camera,renderer.domElement);

      var geometry = new THREE.BoxGeometry(15,15,15);
      //create the shape
      //create the material, color, or image textures
      var cubeMaterials =
      [
        new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Right Side
        new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Left Side
        new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Top Side
        new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Bottom Side
        new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Front Side
        new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}) //Back Side
      ];

      var material = new THREE.MeshFaceMaterial(cubeMaterials);
      var cube = new THREE.Mesh(geometry,material);
      scene.add(cube);

      var boxWidth = document.getElementById("boxWidth");
      var boxHeight = document.getElementById("boxHeight");
      var boxDepth = document.getElementById("boxDepth");

      boxWidth.addEventListener('input', sliderChange);
      boxHeight.addEventListener('input', sliderChange);
      boxDepth.addEventListener('input', sliderChange);

      function sliderChange() {
        while(scene.children.length > 0){
          scene.remove(scene.children[0]);
        }
        var geometry = new THREE.BoxGeometry(boxWidth.value,boxHeight.value,boxDepth.value);
        //create the shape
        //create the material, color, or image textures
        var cubeMaterials =
        [
          new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Right Side
          new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Left Side
          new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Top Side
          new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Bottom Side
          new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}),//Front Side
          new THREE.MeshBasicMaterial({map : new THREE.TextureLoader().load('asset/bobby.jpg'), side : THREE.DoubleSide}) //Back Side
        ];

        var material = new THREE.MeshFaceMaterial(cubeMaterials);
        var cube = new THREE.Mesh(geometry,material);
        scene.add(cube);
      }
      camera.position.z=50;

      //game logic
      var update = function()
      {
        // cube.rotation.x += 0.01;
        // cube.rotation.y += 0.005;
      };

      //draw Scene
      var render = function()
      {
        renderer.render(scene,camera);
      };

      //run game loop (update,render,repeat)
      var GameLoop = function()
      {
        requestAnimationFrame(GameLoop);
        update();
        render();
      };

      GameLoop();

    </script>
  </body>
</html>
